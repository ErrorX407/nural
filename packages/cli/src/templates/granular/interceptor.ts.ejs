import { defineInterceptor } from "@nuraljs/core";

export const <%= camelName %>Interceptor = defineInterceptor(async (req, next, context) => {
  // 游릭 BEFORE Handler
  const start = Date.now();
  console.log(`[${context.handlerName}] 游리 Started`);

  // 游리 CALL Handler (Yield control)
  const result = await next();

  // 游댮 AFTER Handler
  const duration = Date.now() - start;
  console.log(`[${context.handlerName}] 游릭 Completed in ${duration}ms`);

  // Transform Response
  return {
    data: result,
    meta: {
      timestamp: new Date().toISOString(),
      duration
    }
  };
});